<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Profile</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="profile-container">
    <!-- User Profile Card -->
    <ion-card class="profile-card">
      <ion-card-content>
        <div class="profile-header">
          <ion-avatar class="profile-avatar">
            <img [src]="userProfile?.avatar || 'https://via.placeholder.com/150'" alt="Profile Picture">
          </ion-avatar>
          <div class="profile-info">
            <h2>{{ (userProfile?.firstName || currentUser?.username || 'User') + ' ' + (userProfile?.lastName || '') }}</h2>
            <p>{{ '@' + (currentUser?.username || 'username') }}</p>
          </div>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- User Details -->
    <ion-card class="details-card">
      <ion-card-header>
        <ion-card-title>Account Details</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-icon name="person-outline" slot="start" color="primary"></ion-icon>
            <ion-label>
              <h3>Username</h3>
              <p>{{ currentUser?.username || 'N/A' }}</p>
            </ion-label>
          </ion-item>

          <ion-item>
            <ion-icon name="mail-outline" slot="start" color="primary"></ion-icon>
            <ion-label>
              <h3>Email</h3>
              <p>{{ currentUser?.email || userProfile?.email || 'N/A' }}</p>
            </ion-label>
          </ion-item>

          <ion-item *ngIf="userProfile?.joinDate">
            <ion-icon name="calendar-outline" slot="start" color="primary"></ion-icon>
            <ion-label>
              <h3>Member Since</h3>
              <p>{{ userProfile.joinDate | date:'mediumDate' }}</p>
            </ion-label>
          </ion-item>

          <ion-item *ngIf="userProfile?.lastLogin">
            <ion-icon name="time-outline" slot="start" color="primary"></ion-icon>
            <ion-label>
              <h3>Last Login</h3>
              <p>{{ userProfile.lastLogin | date:'short' }}</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <!-- Actions -->
    <ion-card class="actions-card">
      <ion-card-header>
        <ion-card-title>Actions</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <div class="action-buttons">
          <ion-button expand="block" fill="outline" (click)="showSettings()">
            <ion-icon name="settings-outline" slot="start"></ion-icon>
            Settings
          </ion-button>

          <ion-button expand="block" fill="outline" (click)="showHelp()">
            <ion-icon name="help-circle-outline" slot="start"></ion-icon>
            Help & Support
          </ion-button>

          <ion-button expand="block" fill="outline" (click)="showAbout()">
            <ion-icon name="information-circle-outline" slot="start"></ion-icon>
            About
          </ion-button>

          <ion-button expand="block" color="danger" (click)="logout()">
            <ion-icon name="log-out-outline" slot="start"></ion-icon>
            Logout
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
